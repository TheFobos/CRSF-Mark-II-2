# Python Утилиты

Python утилиты для работы с CRSF-IO-mkII

## Утилиты

### 1. Графический интерфейс (GUI)

Графический интерфейс на Python для визуализации телеметрии в реальном времени.

**Запуск:**
```bash
python3 crsf_realtime_interface.py
```

**Требования:**
- Python 3.x
- tkinter
- requests

### 2. Бенчмарк задержки (benchmark_delay.py)

Утилита для измерения задержки отправки и получения каналов CRSF. Измеряет время от установки канала через Python обертку до момента получения обновленного значения в телеметрии.

**Запуск:**
```bash
# Запуск с 5 тестами (по умолчанию)
python3 benchmark_delay.py

# Запуск с указанным количеством тестов
python3 benchmark_delay.py -n 10
python3 benchmark_delay.py --num-tests 3
```

**Параметры:**
- `-n, --num-tests N` - Количество тестов для выполнения (по умолчанию: 5)

**Требования:**
- Python 3.x
- Основное приложение `crsf_io_rpi` должно быть запущено
- Python bindings (см. [pybind/README.md](../pybind/README.md))

**Что измеряется:**
- Задержка включает:
  - Запись команды в файл `/tmp/crsf_command.txt`
  - Чтение файла основным приложением
  - Установку канала в CrsfSerial
  - Отправку пакета каналов (если включено)
  - Запись телеметрии в файл `/tmp/crsf_telemetry.dat`
  - Чтение файла Python оберткой

**Результаты:**
Бенчмарк выводит статистику:
- Количество успешных тестов
- Минимальная задержка
- Максимальная задержка
- Средняя задержка
- Медианная задержка

**Пример вывода:**
```
============================================================
  РЕЗУЛЬТАТЫ БЕНЧМАРКА:
============================================================
  Количество успешных тестов: 5/5
  Минимальная задержка: 12.34 мс
  Максимальная задержка: 15.67 мс
  Средняя задержка: 13.89 мс
  Медианная задержка: 13.45 мс
```

**Примечание:**
Перед запуском убедитесь, что основное приложение `crsf_io_rpi` запущено. Бенчмарк автоматически переключается в режим `manual` для тестирования.

### 3. Примеры использования

См. файл `example_usage.py` для примеров работы с Python bindings.

## Общие требования

- Python 3.6+
- Python bindings должны быть собраны (см. [pybind/README.md](../pybind/README.md))
- Основное приложение `crsf_io_rpi` должно быть запущено
